{% extends 'base.html' %}
{% load static %}

{% block head %}
    <title>Отдельное голосование</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/btn_style.css' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'vote_app/css/vote_list_style.css' %}">
    <style>
        .medium {
            width: 50%;
            margin: 15px;
        }

        .main__img {
            padding: 0;
            border-radius: 10px;
        }
    </style>
{% endblock %}

{% block main %}
    <div class="block">
        <div class="list-elem">
            <div>
                <h2>{{ title }}</h2>
            </div>
            <div>
                <p>Автор: <a href="{{ author_url }}">{{ author }}</a></p>
                <p>Окончание: {{ end_date }}</p>
                <a href="{{ edit_url }}" class="medium-btn yellow">Редактировать</a>
            </div>
        </div>
        <div class="list-elem">
            <div class="medium">
                <p>{{ description }}</p>
            </div>
            <img src="{{ image.url }}" class="medium">
        </div>
        <div class="medium-block grey-2">
            {% for vote_variant in vote_variants %}
                <div class="list-elem grey-3">
                    <strong class="wide">{{ vote_variant.description }}</strong>
                    <span>{{ vote_variant.votes_count }} - {{ vote_variant.percent | floatformat }}%</span>
                </div>
            {% endfor %}
            <div class="horizontal-centering">
                <button class="big-btn green">Голосовать</button>
            </div>
        </div>
        <div class="medium-block grey-2">
            <h3>Результаты</h3>
            <h4>Всего голосов: {{ votes_count }}</h4>
            <div class="horizontal-centering">
                <div class="small-block grey-3 wide">
                    {% include 'charts/donut_chart.html' %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}